1、lua的优化主要是做了什么，你在lua框架里是如何避免与c#进行数据传递的频率降低消耗的

2、GC的了解

3、lua如何排查内存泄漏的问题

3、你的lua的框架是如何设计的，主要做了什么

4、AssetBundle相关

（1）打包问题：分组打包的话如何处理依赖

（2）三种压缩格式是什么，后两种压缩格式在内存中有什么区别

（3）ab包的卸载如何处理依赖，引用计数如何处理一个预制体子节点有删除的情况

5、UGUI

（1）为什么要动静分离

（2）Batch和Rebuild在内部都做了什么处理

（3）优化的时候有什么需要注意的

6、字典一次查找Key值在内部都做了什么

7、装箱和拆箱

8、射线打到一个球形的mesh上要怎么计算向量（这个没理解）

9、寻路网格是如何实现的

10、设计模式都了解那些，挑一个你熟悉的讲一下

还问了一些其他的，没记住了｡

3.1号面试总结

今天面试的是一家华如科技的军用仿真应用的公司。

1、自我介绍，在项目中主要做了什么，你负责的是什么模块的

2、你在平时的工作中有遇到什么样的算法

3、关于优化方向你都做了什么

（）

4、你平时都有遇到什么样的问题，是如何解决的

（1）unity中刚体物体碰撞体过多导致卡顿，崩溃这个是2017.5之前版本会存在的问题

（2）在进行一个实验的组合时发现逻辑没有按照你想要的方式达到表现的效果，是因为同样的updae脚本在主线程运行顺序不是固定的，需要通过调整unity的脚本的执行顺序

（3）xlua开发过程中的这个需要详细去看

（4）一些数据set接口无效，之间去修改prefab的文本来进行批量的修改

5、关于多线程

1、unity主线程有哪些回调

awake start update fixedupdate laterUpdate 

2、fixedupdate与update的区别

3、fixedupdate一定是固定时间执行吗

不是的，如果帧率过低的话会存在追帧的问题

4、list与数组有什么区别，他们在内存上是如何管理的

数组再内存中是连续存在的，所以它的索引速度是非常的快，而且赋值与修改元素也简单，但是数组插入数据会很麻烦，还有就是在声明数组的时候需要同时声明数组长度，数组长度过长会导致内存浪费

list不需要声明长度，添加对象的时候才会去进行内存的分配

5、数组与链表有什么区别

（1）插入的区别：

数组增加一个元素，这个元素后面所有的元素的内存地址都要往后或者往前移动，对在最后插入元素才会比较快，平均时间复杂度是0（n）

链表不需要修改内存的地址，只需要修改节点的信息即可，光讨论插入这个操作的话平均时间复杂度是0(1)但是如果不知道插入的位置时找到改位置的平均时间复杂度是o(n)所以整个插入操作的平均时间复杂度也是o(n)

(2)扩展性

定义数组时所占用的空间大小都是固定的，如果存储满了，无法扩展，只能新建一个更大的空间数组

链表的扩展性会好一点

6、协成的原理

协成是一个分步执行，遇到条件yield return 语句会挂起，直到条件满足才会被唤醒继续执行后面的代码，unity在每一帧都会去处理对象上面的协程，unity主要在update后面处理协程，

 从上图的剖析就明白，协程跟Update()其实一样的，都是Unity每帧对会去处理的函数（如果有的话）。如果MonoBehaviour 是处于激活（active）状态的而且yield的条件满足，就会协程方法的后面代码。

7、lua有哪些数据类型

nil boolean number string function userdata thread table

8、table如何获取表长

最保险的方法是通过循环去遍历table，因为

9、ipaire与paire的区别

ipaire只能遍历到表中出现的第一个不是整数的key

pairs可以遍历表中所有的key，并且除了迭代器本身以及遍历表本身还可以返回nil;

10、ugui遮罩如何实现的

11、差错

​    ![0](https://note.youdao.com/yws/public/resource/b9de14b659576a6c2b419207318b6678/xmlnote/E325ABDB814144E0BA7F6A2D13C14D75/3173)





12、一个有序数组如何对他进行无序排列

一种通过新表

直接在自己的表上如何排列

哔哩哔哩

1、lua闭包

在Lua中，闭包（closure）是由一个函数和该函数会访问到的非局部变量（或者是upvalue）组成的，其中非局部变量（non-local variable）是指不是在局部作用范围内定义的一个变量，但同时又不是一个全局变量，主要应用在嵌套函数和匿名函数里，因此若一个闭包没有会访问的非局部变量，那么它就是通常说的函数。也就是说，在Lua中，函数是闭包一种特殊情况

 **闭包的应用**

  在许多场合中闭包都是一种很有价值的工具，主要有以下几个方面：

  I）作为高阶函数的参数，比如像table.sort函数的参数。

  II）创建其他的函数的函数，即函数返回一个闭包。

  III）闭包对于回调函数也非常有用。典型的例子就是界面上按钮的回调函数，这些函数代码逻辑可能是一模一样，只是回调函数参数不一样而已，即upvalue的值不一样而已。

  V）创建一个安全的运行环境，即所谓的沙盒（sandbox）。当执行一些未受信任的代码时就需要一个安全的运行环境。比如要限制一个程序访问文件的话，只需要使用闭包来重定义函数io.open就可以了

2、有一个引用的游戏对象如何判断该对象被其他地方销毁了

3、“.”和“:”有什么区别

首先在lua中使用“:”定义的函数会自动传入一个名为self的变量，这个变量是隐含的，self同c++中的this一样，表示当前对象的指针：而“.”定义的函数中没有self。

4、list底层实现

5、字典底层实现

6、lua和c#是如何通信的

7、ui这块有哪些优化的地方，drawcall,根据答的再详细问

8、luajit

9、算法有哪些了解，快速排序和插入排序优缺点

猴喜

lua 

1、面向对象的实现

2、继承如何做到的

unity

1、animator和animation的区别，要怎么区分如何使用

2、ab分包

3、热更如何处理的

c#

1、string与stringbuilder有什么区别

2、哈希表

优化

1、内存泄漏要如何排查

首先要排查内存泄漏的发生实际

2、UI为什么要动静分离

计算机图形学

网络

设计模式

1、都了解哪些设计模式

2、你再项目中有用到哪些

算法

1、用到哪些算法

== 深圳腾讯 ==

\- 项目

\1. 说一下ECS。

\2. 说一下ECS的详细架构。

\3. 说一下公共组做的，详细说一下回合制框架。

\- 数据结构

\1. 说一下哈希表

\2. 详细说一下C#的Dictionary的内部实现

\3. 说一下队列怎么实现

\- 算法

\1. 打印螺旋数字

\- 渲染

说一下渲染管线

深度测试发生在哪里

== 网易广州 ==

\- 项目

\1. 说一下你这两年做的系统里难度最大的。

\2. 说一下ecs。

\3. 说一下帧同步。

\- 数据结构

\1. 说一下你知道的排序算法，时间复杂度

\2. 详细说一下堆排的过程

\3. 堆排为什么是n*logn

\4. 详细说一下哈希表

\5. 哈希表具体是怎么实现的 =》 应该是列表，每个元素是一条链表

​     哈希表插入、查询的时间复杂度

\6. 说一下红黑树、平衡二叉树，区别，各种操作的时间复杂度

\- python

\6. python的GC能否解决循环引用

\7. 什么情况下不能自己解决

\8. 如果可以解决循环引用，在写代码的时候还要避免吗? 否则会出现什么问题

\- C++

\9. 说一下面向对象

\10. 说一下多态 => 静态多态，动态多态，展开说虚函数/ 虚表

\- 算法题

\11. 说一下随机洗牌怎么做

----天下事业部

渲染：

广告牌怎么实现的（会一直朝向摄像机，出现了）

草是怎么动的——顶点动画，顶点着色器里修改位移量+频率，只说了位移量没说频率

水（然后问物理渲染PBR——菲涅尔反射）

玉石——>不透明和半透明、颜色混合处于哪个阶段

Early-Z在哪个阶段，为什么透明度测试造成性能损耗

还问了光照模式（比如前向那些，没答！） 然后问光照经验模型（漫反射+高光）

片元着色器(Fragment Shader)被称为像素着色器(Pixel Shader),简称PS！

unity：

lua的内存回收是怎么样的？——>内存回收机制，怎么回收的？

算法：

抛硬币，先抛的获胜概率

没问排序………

-------率土工作室

C#：值类型和引用类型、托管堆回收和非托管类（比如启动程序）怎么回收、JIT和AOT是什么、字典的储存结构，让你构造字典，该怎么做？Hash冲突有什么解决办法？

协程的机制

操作系统：线程之间的通信、进程之间的通信

虚拟内存和物理内存怎么映射的

lua的继承如何实现

C++的虚继承，virtual的指针编译后是在哪？

unity shader：模板测试在哪，功能是什么、GPU Instancing、渲染流程及各个负责的功能、屏幕后处理

数据结构：快排、堆排及具体实现

行为树和状态机

最后一个问题：如何实现无缝拼接

== bilibili ==

\1. 说一下UI优化

\2. 说一下AssetBundle

\3. 说一下资源管理

\4. 如果让你设计一个资源管理系统，你会怎么设计

\5. 说一下帧同步

\6. 帧同步需要注意什么

7.

== 盛大 ==

\1. UnityShader 实际例子， 阴影、X-Ray

\2. Unity什么模块比较熟悉

\3. C# using的用法

\4. 最近做过什么

**== 字节跳动 ==**

== 一面 == 

\1. 自我介绍一下，重点说一些做得好的地方。

\2. 说一下ecs的优势

\3. 说一下gc

\4. 说一下mono和il2cpp

\5. 说一下ui优化

说一下mesh重建的流程

\6. 说一下公共组的工作，有什么难点，讨论项目相关工作(20min)

\7. 说一下一个通用的事件消息机制怎么做

\8. 你认为中台应该做些什么？游戏里有哪些模块做成工具 效益最高？

\9. 动画融合有了解吗？

\10. 算法，判断字符串A是否是字符串B的子串

== 二面 ==

\1. 自我介绍

\2. Avatar 换装系统说一下

\3. UGUI 支持多分辨率方案说一下

\4. 说一下IL2CPP

\5. 通用的事件消息机制怎么做

\6. 场景里有10万个怪，怎么做伤害检测。

\7. 说一下渲染管线，AlphaTest和AlphaBlend的区别，效率区别。

\8. 算法：用两个栈实现队列，包括push,pop,count 函数。

== 三面 ==

\1. 自我介绍

\2. 说一下PBR

\3. Shader里草怎么做

\4. 水面怎么做

\5. 反射和折射知道吗

\6. 公共组相关 20min.

**--- 星辉 ---**

\1. UnityShader中的渲染队列有什么影响，如不透明物体为什么要从前往后渲染

​    OverDraw了解吗

\2. Early-Z了解吗

\3. 说一下渲染管线？CVV是在什么空间下的

\4. UGUI Mesh重建的流程

\5. 在多益的资源管理是怎样的

\6. 两个prefab公用一个图集，它的加载和卸载流程是怎样的。

\7. C++虚表相关

\8. 说一下GC流程

​     装箱和拆箱的消耗

\9. Unity哪些模块你比较熟悉

服务端问

\1. C++ 一个类的内存布局（包含虚函数）

\2. 虚表什么时候构建

\3. 排序和查找算法，复杂度，实现原理

\4. 网络：客户端，服务端通信协议知道吗

\5. 数组和链表的区别，数组的局部性知道吗

\6. 写一道链表转置算法

\7. 操作系统了解吗

\8. 寻路知道什么程度，各种寻路的优劣

\9. 帧同步是怎么做的，怎么处理乱序和丢包

\10. 单例，多线程下会有什么问题，怎么解决。

​       单例是在什么时候初始化，即static变量

11 用过哪些设计模式

**--- 星飞 ---**

笔试题

值类型和引用类型的区别

unity生命周期函数

怎么用自己定义的类做key

arraylist和list

mipmap 的优势是什么

mesh和skinmesh

材质，共享材质和底层一点的。

面试题

\1. 寻路：A星实现，unity的导航网格，没答上来。

A星 预测权值的函数，如果不准确怎么办

这里应该再看一下A*的升级，jps的相关问题。

\2. 说一下ecs，有什么好处和坏处。应该还要说怎么解决的。

\3. 说一下帧同步机制

\4. 技能模块怎么设计的

\5. 地图加载怎么做的

-- 龙腾 --

UI管理 减少UI的DrawCall

静态合批

Assetbundle什么时候会有冗余：打包冗余，加载出来时，如果资源被引用了，而这个时候AB包被卸载了，那么再要用这个资源的话就需要再次加载。

--igg面试--

c#容器遍历效率最高是什么,插入最高效率用什么

字典实现上C#和java有什么不同，为什么

灯光渲染模式含义

unity新版本动画问题：有大量动画片段时，要如何设计。

ab包加载，卸载问题；

ui渲染问题:为什么要动静分离，一个图片和动态的文本，drawcall多少。

算法，不同消耗参生不同兵种对应不同战斗力，固定消耗下如何使战斗里最强。--动态规划



 [常见数据结构与算法整理总结（上）](https://www.jianshu.com/p/230e6fde9c75)

 [常见数据结构与算法整理总结（下）](https://www.jianshu.com/p/42f81846c0fb)



































